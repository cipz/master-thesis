%!TEX root = ../thesis.tex

% https://akhiluk.medium.com/on-why-salvor-hardin-is-simply-the-best-74948711e136
\begin{savequote}[70mm]
	To succeed, planning alone is insufficient.\\One must improvise as well.
	\qauthor{Isaac Asimov, Foundation series}
\end{savequote}

%	Writing a related work section
%	https://www.seas.upenn.edu/~cse400/CSE400_2008_2009/related_work.pdf
%	Your review should: 
%	• Summarize existing research, products and systems 
%	• Talk about trends in the field 
%	• Discuss research themes that emerged from your review 
%	• Place your work in the context of cited work 
%	• Explain why the proposed project is better than or different from what already exists

\chapter{Related work}\label{chapter:related_work}

	% https://ieeexplore.ieee.org/document/7968828
	Internet  of  Things  is  one  of  the  hottest  topics  in 
	both  industry  and  academia  of  the  communication  engineering 
	world.
	% TODO citare capitolo 2 dove parlo delle aziende di iot
	% TODO parlare della rete mesh
	On  the  other  hand,  wireless  mesh  networks,  a  network 
	topology that has been discuss for decades that haven’t been put 
	into use in large scale, can make a difference when it comes to the 
	network  in  the  IoT  world  today.

	Future IoT deployments need to focus on sustainability
	since huge centralized data centers (cloud computing) have
	become a critical part of the infrastructure.

	This chapter anticipates the one where the actual project is described and shows some related projects from which the open mesh has drawn inspiration.
	
	A  wireless  mesh  network  (WMN)  is  a  communications 
	network made up of radio nodes organized in a mesh topology 
	instead of star topology
	\cite{wms}
	
	At first challenges and solutions are presented for these WMS
	
	Below are also presented some of the projects which have been made at various levels from amateurial projects, to research and to the ones already available on the market.
	
	\section{Challenges and solutions of wireless mesh networks}
		
		As explained in chap3, a mesh network is ... riprendere cosa è stato detto in chap3
		
		% https://beyondroot.com/blog/a-comprehensive-guide-to-mesh-network-in-iot-an-experts-take/
		% Where IoT Mesh Network Can be Usednostro
		
		With new technologies, wireless mesh networking has reached a point of maturity and become ideal for IoT app developers. Besides, the elevation of connected homes and industry support on open-source resources has made mesh truly accessible and low-cost. They are also regarded as much more viable and real choice for commercial as well as industrial IoT apps. At the same time, it can render extra services in a system where extending a two-node connection is limited.
		
		There are various applications for this network topology
		Smart Cities: extending radio signals through campus grounds, business parks, parking garages, and other outdoor facilities
		Healthcare Equipment: monitoring and locating medical equipment. It can also serve as a backup for medical devices that always require to stay online. Thus, if one node crashes and loses connectivity, another node can step in to maintain the connection.
		Smart Home: You can track and manage temperature across your home using a wireless mesh network. You can also capture live data and adjust settings automatically by setting up one powered gateway, sensors, and mesh-enabled nodes in each room.
		Farming: Mesh networking is the best way to track sun exposure and water levels across the crops and fields. Additionally, you can create a cellular-connected IoT platform by building a mesh network across a whole acreage with the help of an IoT app development company.
	
		Before choosing a mesh network topology it is important to evaluate
		Installation
		Device Management
		Support
	
		% https://ieeexplore.ieee.org/document/7968828
		% TODO citare + ref chap2
		Classic network topologies / architectures, which are not designed for iot networks, might not suffice the needs
		
		These computer 
		networks  are  not  designed  for  low-powered  devices  such  as 
		remote  sensors  even  these  IoT  devices  are  considered  to  be 
		mini  computers
		
		The  single  point  of  failure  nature  of  these  
		Network makes the entire system extremely vulnerable when it 
		comes to disasters or even difficult environment as the sensors 
		may need to be deployed into some hardly reachable locations.
		Besides,  the  capacity  of  the  central  hub/router  of  the  network  
		can  also  limit  the  coverage  of  the  service  provided  by  IoT  
		devices,  and the range is  also constrained by  the  same  factors.
	
		% https://galileodiscovery.unipd.it/discovery/fulldisplay?docid=alma9938985032206046&context=L&vid=39UPD_INST:VU1&lang=it&search_scope=catalogo_no_external&adaptor=Local%20Search%20Engine&tab=Everything&query=any,contains,Wireless%20Mesh%20Networks&offset=0
		Energy management is an important factor as well, since the connected devices might not have a constant source of power
		
		energy efficient transmission techniques and protocols must be developed in order to optimally use the batteries on the devices
		
		% https://galileodiscovery.unipd.it/discovery/fulldisplay?docid=alma9938986439606046&context=L&vid=39UPD_INST:VU1&lang=it&search_scope=catalogo_no_external&adaptor=Local%20Search%20Engine&tab=Everything&query=any,contains,Wireless%20Mesh%20Networks&offset=0
		
		That is why there is a particular network topology, Low Power Wireless Area Network, which is focused on the interconnection of these devices
	
		% https://ieeexplore.ieee.org/document/4068249
		
		Solutions to optimize the networks are being implemented both via hardware and software
		
		Spiegare le varie soluzioni hw, dalle board migliori, e le soluzioni sw, implementazione dell'intelligenza artificiale, fare alcuni esempi e magari citare progetti presentati successivamente.
	
	\section{Overview of wireless mesh networks}
	
		% https://www.sciencedirect.com/topics/computer-science/wireless-multihop-network
		A WMS is a particular multihop network where data is sent from a node to another until it reaches its destination
		
		An example of a multi hop wireless mesh network is VANET
		VANET is a particular case of wireless multihop network, which has the constraint of fast topology changes due to the high node mobility With the increasing number of vehicles equipped with computing technologies and wireless communication devices, intervehicle communication is becoming a promising field of research, standardization, and development. VANETs enable a wide range of applications, such as prevention of collisions, safety, blind crossing, dynamic route scheduling, real-time traffic condition monitoring, etc.
		\cite{BADIS2015653}
		
		% TODO Aggiungere citazione
		% https://www.microsoft.com/en-us/research/project/self-organizing-wireless-mesh-networks/#overview
		Microsoft has also tried to apply mesh networking to normal internet household use, however, given the improvements in telecom infrastructures and the advancement of fiber optics and internet via cable, the project has been abandoned.
		This shows how each network topology is better suited for particular scenarios.
		
		Compared to the example of microsoft's project, a vanet is more suited for a wms since the data transfered among cars is less than the one transfered among houses.
		
		\noindent
		\begin{minipage}{0.52\textwidth}% adapt widths of minipages to your needs
			\begin{figure}[H]
				\centering
				\includegraphics[width=\textwidth]{resources/img/chap4/wms_microsoft}
				\caption[Self Organizing Wireless Mesh Networks]{Self Organizing Wireless Mesh Networks\cite{BADIS2015653}}
				\label{img:wms_microsoft}
			\end{figure}
		\end{minipage}%
		\hfill%
		\begin{minipage}{0.48\textwidth}\raggedright
			\begin{figure}[H]
				\centering
				\includegraphics[width=\textwidth]{resources/img/chap4/vanet}
				\caption[An example of a VANET]{An example of a VANET\cite{BADIS2015653}}
				\label{img:vanet}
			\end{figure}
		\end{minipage}
	
		% Mesh network in other areas
		% https://www.vmware.com/products/tanzu-service-mesh.html
		
		% BLUETOOTH
		% https://www.ericsson.com/en/reports-and-papers/white-papers/bluetooth-mesh-networking
		
	
		% https://haltian.com/resource/top-four-mesh-networks/
	
		% https://www.intechopen.com/chapters/13038
	
		% https://beyondroot.com/blog/a-comprehensive-guide-to-mesh-network-in-iot-an-experts-take/
	
		\subsection{Advantages of WMS}
		
			Benefits of Mesh Network in IoT
			
			Mesh Network for IoT devices offers enormous benefits that make it sought-after in enterprises and significant in an IoT app development company.
			Self-healing
			
			Like Shortest Path Bridging, Self-healing algorithm automatically chooses the best path to transfer data even if a few nodes lose connection. Specifically, it uses only those connections that are available and working to maintain the task.
			Self-configuring
			
			Due to auto-discovery, mesh networks are self-configuring in nature. Hence, the new nodes calibrate automatically and connect to the network without any previous setup. Consequently, network administration and expansion become easier in mesh networking.
			Scalability and Reliability
			
			In a mesh network, it is way easy to add or remove nodes without any efficiency issue. Usually, issues are in proportion to the devices. However, it is quite the opposite in the case of a mesh network. Adding nodes in a mesh network provides more routes in which data package can travel, which makes the network faster, reliable, and error-resistant.
			Cost Reduction
			
			Since mesh networks don’t require internet connection, it consumes ultra-little energy. Meanwhile, sensors are pocket-friendly and long-lasting.
			
			Besides, IoT implementation reduces expenses in many other ways like better management, optimization of resources usage, and more.
		
		\subsection{Disasvantages of WMS}
		
			Drawbacks of Mesh Network in IoT
			
			Though there are ample benefits of a mesh network, it also comes with a few drawbacks. So, it is essential to gain in-depth knowledge of this network before deciding whether a mesh network is a perfect fit for you.
			Low Capacity
			
			Mesh network is the best way of sending small data packages. Unfortunately, it doesn’t perform well while transferring video file sized data.
			
			Still, if transferring a large amount of data is compulsory, then the wifi mesh network would be a better option.
			Latency
			
			Actively switching from one node to another can decelerate the data receiving process. However, it is not an issue when your system requires a package every few minutes or so. But, it might be not enough for a few systems.
			
			Conversely, a full mesh network can accelerate the data transfer by connecting every node to one another.
			Maintenance
			
			Due to the self-healing ability of the mesh network, finding a non-working node might be time-consuming. Also, we won’t come to know if a node is having an issue.
			
			On the other hand, mesh networks for IoT devices are established to make the IoT system smarter and more efficient. So, the nodes are less prone to crash.
	
		\subsection{Scalability}
		
			% https://www.inthemesh.com/archive/the-scalability-of-mesh-networks/\\
			
			% https://ieeexplore.ieee.org/document/8071545
			
			% PAPER: LoRaWAN Range Extender for Industrial IoT
	
	\section{Algorithms for lora Wireless Mesh networks}
	
		% https://www.springerprofessional.de/en/research-on-using-the-aodv-protocol-for-a-lora-mesh-network/18715992
	
	\section{Projects}\label{sec:chap4_projects}
		
		Here are three categories of projects:
		
		\subsection{Open source projects}
		
			% https://www.hackster.io/scottpowell69/lora-mesh-chat-5267d9
			\subsubsection{LoRa Mesh Chat}
			
				A simple add-on for mobile phones to enable SMS-like messaging in a group when outside cell coverage, or in disaster scenarios.
				
				\noindent
				\begin{minipage}{0.48\textwidth}% adapt widths of minipages to your needs
					\begin{figure}[H]
						\centering
						\includegraphics[width=\textwidth]{resources/img/chap4/lora-mesh-chat-5267d9}
						\caption[Self Organizing Wireless Mesh Networks]{Self Organizing Wireless Mesh Networks\cite{BADIS2015653}}
						\label{img:wms_microsoft}
					\end{figure}
				\end{minipage}%
				\hfill%
				\begin{minipage}{0.5\textwidth}\raggedright
					This is a fairly simple add-on for mobile phones to enable SMS-like messaging in a group when outside cell coverage, or in disaster scenarios. It utilises Semtech LoRa radios, for low-power/long-range communications. There are a lot of hardware options, and I am still trying different devices and manufacturers, but for now this tutorial will show how to assemble and set up one of the following boards:
					
					This board is quite nice in that it includes a nice OLED screen and Bluetooth radio. Unfortunately, the LoRa radio is not as good as the Feather, and only seems to get about half the range.
				\end{minipage}
			
				
				\subsubsection{Meshtastic}		
	
					% https://meshtastic.org/
					% https://github.com/meshtastic
					% https://www.hackster.io/punkgeek/meshtastic-a-hiking-skiing-gps-mesh-communicator-84f999
						
					Meshtastic is an open-source hiking, pilot, skiing, Signal app-extending GPS mesh communicator.
					
					Meshtastic is a project that lets you use inexpensive (\$30 ish) GPS radios as an extensible, super long battery life mesh GPS communicator. These radios are great for hiking, skiing, paragliding - essentially any hobby where you don’t have reliable internet access. Each member of your private mesh can always see the location and distance of all other members and any text messages sent to your group chat.
					
					The radios automatically create a mesh to forward packets as needed, so everyone in the group can receive messages from even the furthest member. The radios will optionally work with your phone, but no phone is required.Our device code is here, our optional Android app is here.
					
					Prebuilt binaries are included on the github sites, but it is quite easy to build from source. Instructions are included in the README. No soldering is required, essentially - buy a \$30 radio and go. We'd love to have your help extending the project - it has been super fun to work on.
		
		\subsection{Research projects}
		
			\subsubsection{Monitoring of Large-Area IoT Sensors Using LoRa Wireless Mesh Network System: Design and Evaluation}
			
			\subsubsection{Black Powder Flow Monitoring in Pipelines by Means of Multi-Hop LoRa Networks}
		
			\subsubsection{Exploring Multi-Hop LoRa for Green Smart Cities}
			
			\subsubsection{Proposal of a Hybrid LoRa Mesh / LoRaWAN Network}
			
			\subsubsection{Beyond the Star of Stars: An Introduction to Multihop and Mesh for LoRa and LoRaWAN}
			
			\subsubsection{LoRa-based Mesh Network for Off-grid Emergency Communications}
			
			% https://ieeexplore.ieee.org/document/9394317
			\subsubsection{LoRaCTP}
			
				a ﬂexible protocol based
				on LoRa technology that allows for the transfer of “content” to
				large distances with very low energy. LoRaCTP provides all the
				necessary mechanisms to make LoRa reliable, by introducing a
				lightweight connection set-up and ideally allowing the sending
				of an as-long-as necessary data message.
			
				\begin{figure}[H]
					\centering
					\includegraphics[width=.75\textwidth]{resources/img/chap4/loractp_packet}
					\caption[Flow of the establishment and interchange of data in LoRaCTP]{Structure of the packet used by the stop-and-wait ARQ. \cite{loractp}}
				\end{figure}
			
				\begin{figure}[H]
					\centering
					\includegraphics[width=.5\textwidth]{resources/img/loractp_flow}
					\caption[Flow of the establishment and interchange of data in LoRaCTP]{Flow of the establishment and interchange of data in LoRaCTP \cite{loractp}}
				\end{figure}
		
		By content we refer to a self-contained piece of data, like a
		JSON encoded message whose length is in principle unlimited.
		We tested out library with messages of up to 150 kbytes,
		as indicated in Section V. LoRaCTP is based on a unicast
		protocol adopting a classical stop-and-wait ARQ approach
		with a dynamic and adaptive value for the retransmission
		delay. The protocol ensures that information is not lost due to
		dropped packets and that packets are received in the correct
		order.
		
		Each packet is sent by using a three attempts scheme. That
		is, if after three attempts no ACK is received, we suppose
		that the channel is currently busy or too noisy and the content
		sending is dropped.
		
		On top of this ﬂow-control protocol there is a lightweight
		transport protocol that is used to establish a connection be-
		tween a master node, and a client node. Figure 3 shows a sim-
		ple sequence example. Basically the master device “listens”
		to incoming connections. Connections can be established in a
		unicast manner, by providing the address of the master device,
		or using an anycast approach, thus sending to the generic
		“00000000” address and thus receiving the reply from the
		close-by listening device. This possibility allows for a greater
		ﬂexibility in establishing dynamic topologys in rural areas, for
		example.
		
		% https://www.project-owl.com/
		% https://www.reddit.com/r/RTLSDR/comments/bzian5/ltt_showcases_new_lora_mesh_network_devices/

		\subsection{Market solutions}
		
			Emergency Off-Grid Communication
			
			
			
			During a natural disaster or emergency, you might not be able to depend on your cell or land-line phones or internet to exchange information between you and your loved ones, or the community around you in the ways you are used to.
			
			Cell towers and internet routers must be powered to operate, and if there is a large enough power outage then their services can easily be compromised, and might not come back online for days, or even weeks.
		
			% https://www.kickstarter.com/projects/sonnet/sonnet-decentralized-mobile-communication
			% https://www.indiegogo.com/projects/sonnet-game-changer-for-wilderness-communications#/
			\subsubsection{Sonnet}
		
				\noindent
				\begin{minipage}{0.48\textwidth}% adapt widths of minipages to your needs
					\begin{figure}[H]
						\centering
						\includegraphics[width=\textwidth]{resources/img/chap4/sonnet}
						\caption[Self Organizing Wireless Mesh Networks]{Self Organizing Wireless Mesh Networks\cite{BADIS2015653}}
						\label{img:wms_microsoft}
					\end{figure}
				\end{minipage}%
				\hfill%
				\begin{minipage}{0.5\textwidth}\raggedright

Sonnet is the world's most advanced off-grid mobile mesh network.

The device wirelessly connects to your smartphone, etc to let you send text, voice message, images, data, files and share GPS locations to any other Sonnet users up to several kilometers away with no cell tower, no satellite, and no subscription of any kind.

Sonnet brings the long-range wireless communication of the walkie-talkie to the smartphone. It connects to your smartphone via Wi-Fi, and it will relay any data sent from your phone to other Sonnet devices via the long-range radio wave. This completely removes your smartphones’ dependency on cellular grid and other network infrastructure, and allows it to be used even when you have no cellular connectivity or internet access.

Sonnet's mesh network dramatically increases the effective range beyond point-to-point range by relaying data through other deices. With Sonnet, data can be relayed up to 16 times to achieve a maximum range of 80 km (50 miles)!
				\end{minipage}

		
			% https://gotenna.com/
			%				https://gotennamesh.com/products/mesh?utm_source=internal-link&utm_medium=menu&utm_campaign=gotenna.com
			% https://techcrunch.com/2019/06/18/gotenna-is-ramping-up-public-sector-mesh-networking-with-a-24m-c-round/
			\subsubsection{goTenna}
				
				\noindent
				\begin{minipage}{0.48\textwidth}% adapt widths of minipages to your needs
					\begin{figure}[H]
						\centering
						\includegraphics[width=\textwidth]{resources/img/chap4/gotenna}
						\caption[Self Organizing Wireless Mesh Networks]{Self Organizing Wireless Mesh Networks\cite{BADIS2015653}}
						\label{img:wms_microsoft}
					\end{figure}
				\end{minipage}%
				\hfill%
				\begin{minipage}{0.5\textwidth}\raggedright
				 Meet the sleek, lightweight device that pairs with your smartphone, and keeps your group connected when venturing off grid.
				
				Send text \& GPS locations without cell or wifi
				Works with any iOS or Android smartphone
				Mesh-networking enabled to privately relay messages
				\end{minipage}
			
			A compact and ruggedized network management kit for larger teams operating goTenna Pro X devices and third-party software like ATAK in complex environments where no service is not an option.
			
			\noindent
			\begin{minipage}{0.48\textwidth}% adapt widths of minipages to your needs
				\begin{figure}[H]
					\centering
					\includegraphics[width=\textwidth]{resources/img/chap4/gotenna_prox}
					\caption[Self Organizing Wireless Mesh Networks]{Self Organizing Wireless Mesh Networks\cite{BADIS2015653}}
					\label{img:wms_microsoft}
				\end{figure}
			\end{minipage}%
			\hfill%
			\begin{minipage}{0.5\textwidth}\raggedright
				Meet the sleek, lightweight device that pairs with your smartphone, and keeps your group connected when venturing off grid.
				
				Send text \& GPS locations without cell or wifi
				Works with any iOS or Android smartphone
				Mesh-networking enabled to privately relay messages
			\end{minipage}
				

						
						
			% https://docs.pycom.io/pymesh/
			% https://pycom.io/pymesh-relaunch/
			\subsubsection{pymesh}
			
				Pycom itself has an available mesh network that connects lora devices, compared to the one proposed in this paper thought

				
				
				Pymesh is the LoRa full-mesh network technology.
				
				A Mesh network acts like a net, this means that any node within the network can connect with any other node.
				
				Mesh networks essentially get rid of gateways, which decentralises the network’s infrastructure. This then means that the network becomes flexible, so it can do many wonderful things – such as generate, change and fix itself. The success of the Mesh network is down to its parts, as any node within the network will automatically connect to the best radio-link available.
				
				Pymesh works on all of our LoRa supporting development boards, the LoPy4 and FiPy as well as on our OEM modules, L01 and L04.
				
				An ad-hoc communication network over raw-LoRa radio
				Multi-gateway (Border Routers) Nodes that connect Mesh-internal data with the Cloud
				Each Node uses LBS - Listen Before Talk
				Security on multiple levels
				base level: authentication and encryption using AES 128bit key, so all traffic inside Pymesh is secured
				advanced level: RSA or AES at application level allows private communication channels above Pymesh.
				Any LoRa device (Lopy4/Fipy) can have any of the Pymesh Node Role: Leader, Router, Child or Border Router
				
				What does Pymesh integration offer you?
				
				This documentation is a quick introduction to the new Pymesh integration features on Pybytes.
				
				The Pymesh integration is here to help Pymesh firmware deployment and to monitor Pymesh node’s health
	
	
				
				
				Mesh networks essentially get rid of gateways, which decentralises the network’s infrastructure. This then means that the network becomes flexible, so it can do many wonderful things – such as generate, change and fix itself. The success of the Mesh network is down to its parts, as any node within the network will automatically connect to the best radio-link available.
				
				
				PROS and CONS of this mesh